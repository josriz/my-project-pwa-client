<!-- src/app/app.component.html -->

<div style="text-align: center; padding: 40px; font-family: sans-serif; background-color: #f8f8f8;">
  <h1 style="color: #3f51b5; border-bottom: 2px solid #3f51b5; padding-bottom: 10px;">
    PWA: Test Connessione Backend Render
  </h1>
  
  <!-- MODULO DI INSERIMENTO (POST) -->
  <div style="background-color: #fff; padding: 20px; margin: 20px auto; max-width: 400px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
    <h3 style="margin-top: 0; color: #333;">Aggiungi Nuovo Utente</h3>
    <input 
      type="text" 
      placeholder="Inserisci il nome"
      [(ngModel)]="nuovoNome" 
      (keyup.enter)="aggiungiUtente()"
      style="padding: 10px; margin-bottom: 15px; width: 80%; border: 1px solid #ccc; border-radius: 4px;"
    >
    <button 
      (click)="aggiungiUtente()" 
      [disabled]="!nuovoNome.trim()"
      style="padding: 10px 20px; background-color: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer;"
    >
      Invia a Render (POST)
    </button>
    
    <p *ngIf="messaggioStato" style="margin-top: 15px; color: #00796b;">
      {{ messaggioStato }}
    </p>
  </div>
  
  <hr style="margin: 30px auto; width: 60%; border-top: 1px solid #ddd;">
  
  <!-- RISULTATI LISTA UTENTI (GET) -->
  <div *ngIf="errore" style="background-color: #ffe0e0; border: 1px solid red; padding: 15px; margin-top: 20px; border-radius: 8px;">
    <h2 style="color: red;">CONNESIONE FALLITA!</h2>
    <p><strong>Dettagli errore:</strong> {{ errore }}</p>
  </div>

  <div *ngIf="utenti.length > 0" style="background-color: #e8f5e9; border: 1px solid #4caf50; padding: 20px; margin-top: 20px; border-radius: 8px;">
    <h2 style="color: #2e7d32;">Utenti Attuali nell'API: ({{ utenti.length }})</h2>
    
    <ul style="list-style-type: none; padding: 0;">
      <li *ngFor="let utente of utenti" 
          style="background-color: white; margin: 8px 0; padding: 10px; border-radius: 4px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
        <strong>ID:</strong> {{ utente.id }} | <strong>Nome:</strong> {{ utente.nome }}
      </li>
    </ul>
  </div>
</div>
